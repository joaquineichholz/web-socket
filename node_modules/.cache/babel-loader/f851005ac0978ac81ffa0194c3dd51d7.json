{"ast":null,"code":"var _jsxFileName = \"/home/joaquin/Escritorio/t03-taller_integracion/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Graph from './components/graph';\nimport io from 'socket.io-client';\nimport './css/navbar.css';\nimport Disconnect from './components/disconnect';\nimport Connect from './components/connect';\nimport Stock from './components/stock';\nconst protocolo = \"wss://\";\nconst servidor = \"le-18262636.bitzonte.com\";\nconst ruta = \"/stocks\";\nconst socket = io(protocolo + servidor, {\n  path: ruta\n});\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      stock: [{\n        ticker: 'latam',\n        volume: 0,\n        time: 100\n      }]\n    };\n\n    this.add_sell = current => {\n      var new_sell = true;\n      this.state.stock.map(data => {\n        if (data.name === current.name) {\n          data.volume += current.volume;\n          new_sell = false;\n        }\n      });\n\n      if (!new_sell) {\n        this.state.stock.push({\n          ticker: current.tricker,\n          volume: current.volume,\n          time: current.time\n        });\n      }\n\n      ;\n    };\n\n    this.disconnect = e => {\n      socket.disconnect();\n      console.log('###############################################');\n      console.log('################## DISCONNECT #################');\n      console.log('###############################################');\n    };\n\n    this.connect = e => {\n      socket.connect();\n      console.log('###############################################');\n      console.log('##################  CONNECT   #################');\n      console.log('###############################################');\n    };\n  }\n\n  componentDidMount() {\n    console.log('Página montada');\n    console.log('Encendiendo socket');\n    /*socket.on(\"UPDATE\", (data) => {\n       console.log(data);\n    console.log('\\n-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  ');\n    });\n       \n    socket.on(\"BUY\", (data) => {\n       console.log(data);\n    console.log('\\n+ + + + + + + + + + + + + + + + + + + + + + + + + + + + + +  ');\n    });*/\n\n    socket.on(\"SELL\", data => {\n      this.add_sell(data);\n      console.log(data);\n      console.log('\\n*  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  ');\n    }); //data.map((data) => (\n    //\n    //));\n  }\n\n  render() {\n    //console.log(this.state.data)\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"nav-ul\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-li\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, \" \", /*#__PURE__*/React.createElement(Disconnect, {\n      disconnect: this.disconnect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 35\n      }\n    }), \"  \"), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-li\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Connect, {\n      connect: this.connect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 34\n      }\n    }))), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 10\n      }\n    }, \" Mercado de acciones  \"), /*#__PURE__*/React.createElement(Stock, {\n      stock: this.state.stock,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 10\n      }\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/joaquin/Escritorio/t03-taller_integracion/src/App.js"],"names":["React","Component","Graph","io","Disconnect","Connect","Stock","protocolo","servidor","ruta","socket","path","App","state","stock","ticker","volume","time","add_sell","current","new_sell","map","data","name","push","tricker","disconnect","e","console","log","connect","componentDidMount","on","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport Graph from './components/graph';\nimport io from 'socket.io-client';\nimport './css/navbar.css'\n\nimport Disconnect from './components/disconnect';\nimport Connect from './components/connect';\nimport Stock from './components/stock';\n\n\nconst protocolo = \"wss://\";\nconst servidor = \"le-18262636.bitzonte.com\";\nconst ruta = \"/stocks\";\n\nconst socket = io(protocolo + servidor , {\n  path: ruta\n  });\n\nclass App extends Component {\n\n  state = {\n      stock: [\n        {\n          ticker: 'latam',\n          volume: 0,\n          time: 100,\n        },\n      ]\n  }\n\n  add_sell = (current) => {\n    var new_sell = true;\n    this.state.stock.map((data) => {\n      if (data.name === current.name) {\n        data.volume += current.volume\n\n        new_sell = false\n      }\n      \n    })\n    \n    if (!new_sell) {\n      this.state.stock.push({\n        ticker: current.tricker,\n        volume: current.volume,\n        time: current.time,\n      })\n\n    };\n  }\n\n  disconnect = (e) => {\n    socket.disconnect();\n        console.log('###############################################');\n        console.log('################## DISCONNECT #################');\n        console.log('###############################################');\n  }\n\n  connect = (e) => {\n    socket.connect();\n    console.log('###############################################');\n    console.log('##################  CONNECT   #################');\n    console.log('###############################################');\n  }\n\n\n\n  componentDidMount() {\n    console.log('Página montada')\n    console.log('Encendiendo socket')\n\n    /*socket.on(\"UPDATE\", (data) => {\n\n      console.log(data);\n    console.log('\\n-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  ');\n    });\n       \n    socket.on(\"BUY\", (data) => {\n\n      console.log(data);\n    console.log('\\n+ + + + + + + + + + + + + + + + + + + + + + + + + + + + + +  ');\n    });*/\n\n    socket.on(\"SELL\", (data) => {\n      this.add_sell(data)\n      console.log(data);\n    console.log('\\n*  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  ');\n    });\n\n      //data.map((data) => (\n          //\n        //));\n\n\n  }\n\n    \n\n  render() {\n\n    //console.log(this.state.data)\n    return (\n      <div className=\"App\">\n\n        <ul className=\"nav-ul\">\n          <li className=\"nav-li\"> <Disconnect disconnect={this.disconnect} />  </li>\n          <li className=\"nav-li\"><Connect connect={this.connect} /></li>\n        </ul>\n         <h1> Mercado de acciones  </h1>\n\n         <Stock stock={this.state.stock}/>\n\n        \n        \n\n\n\n\n      </div>\n      );\n    }\n}\n\n\n\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}